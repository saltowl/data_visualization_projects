(window.webpackJsonpdata_visualization_projects=window.webpackJsonpdata_visualization_projects||[]).push([[0],{45:function(t,e,a){t.exports=a(59)},50:function(t,e,a){},51:function(t,e,a){},52:function(t,e,a){},53:function(t,e,a){},59:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(27),o=a.n(i),c=(a(50),a(51),a(31)),s=a(6),l=a(28),u=a(29),d=a(34),h=a(30),p=a(7),m=a(35),v=(a(52),a(2)),f=(a(53),function(t){return r.a.createElement("div",{className:"Error"},r.a.createElement("div",null,t.message))}),g=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(d.a)(this,Object(h.a)(e).call(this,t))).state={linearScale:null,xScale:null,yScale:null,dates:null,GDP:null,error:null},a.getData=a.getData.bind(Object(p.a)(a)),a.updateChart=a.updateChart.bind(Object(p.a)(a)),a.updateScales=a.updateScales.bind(Object(p.a)(a)),a.handleMouseOverBar=a.handleMouseOverBar.bind(Object(p.a)(a)),a.handleMouseOutBar=a.handleMouseOutBar.bind(Object(p.a)(a)),a.getData(),a}return Object(m.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.updateChart()}},{key:"getData",value:function(){var t=this;v.c("https://raw.githubusercontent.com/FreeCodeCamp/ProjectReferenceData/master/GDP-data.json").then((function(e){var a=e.data.map((function(t){return t[1]}));t.setState({linearScale:v.f().domain([0,v.d(a)+1e3]).range([0,t.props.height]),rawDates:e.data.map((function(t){return t[0]})),dates:e.data.map((function(t){return new Date(t[0])})),GDP:a,barWidth:t.props.width/a.length}),t.updateChart()})).catch((function(e){t.setState({error:e})}))}},{key:"updateChart",value:function(){var t=this;if(!this.state.error&&this.state.GDP){var e=this.state,a=e.dates,n=e.GDP,r=e.barWidth,i=e.rawDates,o=this.props,c=o.height,s=o.margin;this.updateScales();var l=n.map((function(e){return t.state.linearScale(e)}));v.h(this.viz).selectAll(".bar").data(l).transition().duration(this.props.animDuration).attr("x",(function(e,n){return t.state.xScale(a[n])+s})).attr("y",(function(t,e){return c-t})).attr("width",r).attr("height",(function(t){return t})).attr("data-date",(function(t,e){return i[e]})).attr("data-gdp",(function(t,e){return n[e]})),v.h(this.viz).select("#x-axis").call(v.a().scale(this.state.xScale)),v.h(this.viz).select("#y-axis").call(v.b(this.state.yScale))}}},{key:"updateScales",value:function(){var t=this.state,e=t.dates,a=t.GDP,n=this.props,r=n.width,i=n.height,o=new Date(v.d(e));o.setMonth(o.getMonth()+3);var c=v.g().domain([v.e(e),o]).range([0,r]),s=v.f().domain([0,v.d(a)+1e3]).range([i,0]);this.setState({xScale:c,yScale:s})}},{key:"handleMouseOverBar",value:function(t){var e=v.h("#tooltip"),a=v.h(t.target),n=parseFloat(a.attr("data-gdp")),r=a.attr("data-date"),i=this.viz.getBoundingClientRect(),o=i.x+t.target.x.baseVal.value,c=i.y+i.height-2*this.props.margin;e.transition().duration(200).style("opacity",1),e.html("".concat(r," <br> $ ").concat(n.toFixed(1).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")," Billion")).attr("data-date",r).style("left","".concat(o+10,"px")).style("top","".concat(c,"px"))}},{key:"handleMouseOutBar",value:function(t){v.h("#tooltip").transition().duration(200).style("opacity",0)}},{key:"render",value:function(){var t=this,e=this.state,a=e.error,n=e.GDP,i=e.barWidth,o=this.props,c=o.width,s=o.height,l=o.margin,u=n?n.map((function(e,a){return r.a.createElement("rect",{key:"bar".concat(a),className:"bar",onMouseOver:t.handleMouseOverBar,onMouseOut:t.handleMouseOutBar,y:s,x:l+a*i})})):[];return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"container"},a?r.a.createElement(f,{message:a.message}):r.a.createElement("div",{className:"graph"},r.a.createElement("div",{id:"title"},"United States GDP"),r.a.createElement("div",{id:"tooltip"}),r.a.createElement("svg",{ref:function(e){return t.viz=e},width:c+100,height:s+l},r.a.createElement("text",{transform:"rotate(-90)",x:-200,y:80},"Gross Domestic Product"),r.a.createElement("text",{x:c-l-20,y:s+50},r.a.createElement("a",{href:"http://www.bea.gov/national/pdf/nipaguid.pdf",target:"_blank",rel:"noopener noreferrer"},"More Information...")),r.a.createElement("g",{id:"x-axis",transform:"translate(".concat(l,", ").concat(s,")")}),r.a.createElement("g",{id:"y-axis",transform:"translate(".concat(l,", 0)")}),u))))}}]),e}(r.a.Component);g.defaultProps={animDuration:800,height:400,width:800,margin:60};var b=g;var w=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/bar-chart",component:b}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[45,1,2]]]);
//# sourceMappingURL=main.a51c4646.chunk.js.map