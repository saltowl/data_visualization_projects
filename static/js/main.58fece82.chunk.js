(window.webpackJsonpdata_visualization_projects=window.webpackJsonpdata_visualization_projects||[]).push([[0],{101:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(59),o=a.n(i),c=(a(91),a(92),a(61)),s=a(7),l=a(16),u=a(17),d=a(19),h=a(18),p=a(3),m=a(20),g=(a(93),a(1)),f=(a(94),function(t){return r.a.createElement("div",{className:"Error"},r.a.createElement("div",null,t.message))}),v=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(d.a)(this,Object(h.a)(e).call(this,t))).state={GDP:null,error:null},a.getData=a.getData.bind(Object(p.a)(a)),a.updateChart=a.updateChart.bind(Object(p.a)(a)),a.updateScales=a.updateScales.bind(Object(p.a)(a)),a.handleMouseOverBar=a.handleMouseOverBar.bind(Object(p.a)(a)),a.handleMouseOutBar=a.handleMouseOutBar.bind(Object(p.a)(a)),a.getData(),a}return Object(m.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.updateChart()}},{key:"getData",value:function(){var t=this;g.e("https://raw.githubusercontent.com/FreeCodeCamp/ProjectReferenceData/master/GDP-data.json").then((function(e){var a=e.data.map((function(t){return t[1]}));t.setState({linearScale:g.h().domain([0,g.f(a)+1e3]).range([0,t.props.height]),rawDates:e.data.map((function(t){return t[0]})),dates:e.data.map((function(t){return new Date(t[0])})),GDP:a,barWidth:t.props.width/a.length}),t.updateChart()})).catch((function(e){t.setState({error:e})}))}},{key:"updateChart",value:function(){var t=this;if(!this.state.error&&this.state.GDP){var e=this.state,a=e.dates,n=e.GDP,r=e.barWidth,i=e.rawDates,o=this.props,c=o.height,s=o.margin;this.updateScales();var l=n.map((function(e){return t.state.linearScale(e)}));g.l(this.viz).selectAll(".bar").data(l).transition().duration(this.props.animDuration).attr("x",(function(e,n){return t.state.xScale(a[n])+s})).attr("y",(function(t,e){return c-t})).attr("width",r).attr("height",(function(t){return t})).attr("data-date",(function(t,e){return i[e]})).attr("data-gdp",(function(t,e){return n[e]})),g.l(this.viz).select("#x-axis").call(g.a().scale(this.state.xScale)),g.l(this.viz).select("#y-axis").call(g.b(this.state.yScale))}}},{key:"updateScales",value:function(){var t=this.state,e=t.dates,a=t.GDP,n=this.props,r=n.width,i=n.height,o=new Date(g.f(e));o.setMonth(o.getMonth()+3);var c=g.j().domain([g.g(e),o]).range([0,r]),s=g.h().domain([0,g.f(a)+1e3]).range([i,0]);this.setState({xScale:c,yScale:s})}},{key:"handleMouseOverBar",value:function(t){var e=g.l("#tooltip"),a=g.l(t.target),n=parseFloat(a.attr("data-gdp")),r=a.attr("data-date"),i=this.viz.getBoundingClientRect(),o=i.x+t.target.x.baseVal.value,c=i.y+i.height-2*this.props.margin;e.transition().duration(200).style("opacity",1),e.html("".concat(r," <br> $ ").concat(n.toFixed(1).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")," Billion")).attr("data-date",r).style("left","".concat(o+10,"px")).style("top","".concat(c,"px"))}},{key:"handleMouseOutBar",value:function(t){g.l("#tooltip").transition().duration(200).style("opacity",0)}},{key:"render",value:function(){var t=this,e=this.state,a=e.error,n=e.GDP,i=e.barWidth,o=this.props,c=o.width,s=o.height,l=o.margin,u=n?n.map((function(e,a){return r.a.createElement("rect",{key:"bar".concat(a),className:"bar",onMouseOver:t.handleMouseOverBar,onMouseOut:t.handleMouseOutBar,y:s,x:l+a*i})})):[];return r.a.createElement("div",{className:"main bar-chart"},r.a.createElement("div",{className:"container"},a?r.a.createElement(f,{message:a.message}):r.a.createElement("div",{className:"graph"},r.a.createElement("div",{id:"title"},"United States GDP"),r.a.createElement("div",{id:"tooltip"}),r.a.createElement("svg",{ref:function(e){return t.viz=e},width:c+100,height:s+l},r.a.createElement("text",{transform:"rotate(-90)",x:-200,y:80},"Gross Domestic Product"),r.a.createElement("text",{x:c-l-20,y:s+50},r.a.createElement("a",{href:"http://www.bea.gov/national/pdf/nipaguid.pdf",target:"_blank",rel:"noopener noreferrer"},"More Information...")),r.a.createElement("g",{id:"x-axis",transform:"translate(".concat(l,", ").concat(s,")")}),r.a.createElement("g",{id:"y-axis",transform:"translate(".concat(l,", 0)")}),u))))}}]),e}(r.a.Component);v.defaultProps={animDuration:800,height:400,width:800,margin:60};var y=v,b=a(60);a(95);function O(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}var D=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(d.a)(this,Object(h.a)(e).call(this,t))).state={err:null,data:null,dotRadius:6,legendSide:18},a.getData=a.getData.bind(Object(p.a)(a)),a.updateChart=a.updateChart.bind(Object(p.a)(a)),a.updateScales=a.updateScales.bind(Object(p.a)(a)),a.updateLegend=a.updateLegend.bind(Object(p.a)(a)),a.handleMouseOutDot=a.handleMouseOutDot.bind(Object(p.a)(a)),a.handleMouseOverDot=a.handleMouseOverDot.bind(Object(p.a)(a)),a.getData(),a}return Object(m.a)(e,t),Object(u.a)(e,[{key:"getData",value:function(){var t=this;g.e("https://raw.githubusercontent.com/freeCodeCamp/ProjectReferenceData/master/cyclist-data.json").then((function(e){var a=e.map((function(t){var e=t.Time.split(":");return function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?O(a,!0).forEach((function(e){Object(b.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t,{Time:new Date(1970,0,1,0,e[0],e[1])})}));t.setState({data:a}),t.updateChart()})).catch((function(e){t.setState({err:e})}))}},{key:"updateChart",value:function(){if(!this.state.err&&this.state.data){this.updateScales();var t=this.state,e=t.data,a=t.xScale,n=t.yScale,r=t.color,i=t.dotRadius,o=this.props,c=o.margin,s=o.cor;g.l(this.viz).select("#x-axis").call(g.a(a).tickFormat(g.d("d"))),g.l(this.viz).select("#y-axis").call(g.b(n).tickFormat(g.n("%M:%S"))),g.l(this.viz).selectAll(".dot").data(e).transition().duration(this.props.animDuration).attr("cx",(function(t){return a(t.Year)+c})).attr("cy",(function(t){return n(t.Time)+s})).attr("r",i).attr("data-xvalue",(function(t){return t.Year})).attr("data-yvalue",(function(t){return t.Time.toISOString()})).attr("data-name",(function(t){return t.Name})).attr("data-doping",(function(t){return t.Doping})).attr("data-country",(function(t){return t.Nationality})).style("fill",(function(t){return r(""!==t.Doping)})),this.updateLegend()}}},{key:"updateScales",value:function(){var t=this.state.data,e=this.props,a=e.width,n=e.height,r=g.h().domain([g.g(t,(function(t){return t.Year-1})),g.f(t,(function(t){return t.Year+1}))]).range([0,a]),i=g.j().domain(g.c(t,(function(t){return t.Time}))).range([0,n]),o=g.i(g.k);this.setState({xScale:r,yScale:i,color:o})}},{key:"updateLegend",value:function(){var t=this.state.color,e=g.m(".legend").data(t.domain());e.select("rect").style("fill",t),e.select("text").text((function(t){return t?"Riders with doping allegations":"No doping allegations"}))}},{key:"componentDidMount",value:function(){this.updateChart()}},{key:"handleMouseOverDot",value:function(t){var e=g.l("#tooltip"),a=g.l(t.target),n=this.viz.getBoundingClientRect(),r=n.x+t.target.cx.baseVal.value,i=n.y+t.target.cy.baseVal.value,o=a.attr("data-name"),c=a.attr("data-doping"),s=a.attr("data-xvalue"),l=g.n("%M:%S")(new Date(a.attr("data-yvalue"))),u=a.attr("data-country");e.transition().duration(200).style("opacity",1),e.html("".concat(o,": ").concat(u," <br> Year: ").concat(s,", Time: ").concat(l," <br> <br> ").concat(c)).attr("data-year",s).style("left","".concat(r,"px")).style("top","".concat(i,"px"))}},{key:"handleMouseOutDot",value:function(t){g.l("#tooltip").transition().duration(200).style("opacity",0)}},{key:"render",value:function(){var t=this,e=this.state,a=e.err,n=e.data,i=e.dotRadius,o=e.legendSide,c=this.props,s=c.width,l=c.height,u=c.margin,d=c.cor,h=n?n.map((function(e,a){return r.a.createElement("circle",{key:"circle".concat(a),className:"dot",onMouseOver:t.handleMouseOverDot,onMouseOut:t.handleMouseOutDot,cy:l,cx:u,r:i})})):[],p=[0,1].map((function(t,e){return r.a.createElement("g",{className:"legend",key:"legend".concat(e),transform:"translate(0, ".concat(l/2-20*e," )")},r.a.createElement("text",{x:s+u-1.5*o,y:o/2,dy:".35em"}),r.a.createElement("rect",{x:s+u-o,width:o,height:o}))}));return r.a.createElement("div",{className:"main scatterplot"},r.a.createElement("div",{className:"container"},a?r.a.createElement(f,{message:a.message}):r.a.createElement("div",{className:"graph"},r.a.createElement("div",{id:"title"},"Doping in Professional Bicycle Racing"),r.a.createElement("div",{id:"tooltip"}),r.a.createElement("svg",{ref:function(e){return t.viz=e},width:s+2*u,height:l+u+d},r.a.createElement("g",{id:"x-axis",transform:"translate(".concat(u,", ").concat(l+d,")")}),r.a.createElement("g",{id:"y-axis",transform:"translate(".concat(u,", ").concat(d,")")}),r.a.createElement("g",{id:"legend"},p),h))))}}]),e}(r.a.Component);D.defaultProps={animDuration:800,height:420,width:800,margin:60,cor:20};var x=D;var w=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/bar-chart",component:y}),r.a.createElement(s.a,{path:"/scatterplot-graph",component:x}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},86:function(t,e,a){t.exports=a(101)},91:function(t,e,a){},92:function(t,e,a){},93:function(t,e,a){},94:function(t,e,a){},95:function(t,e,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.58fece82.chunk.js.map