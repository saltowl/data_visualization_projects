(window.webpackJsonpdata_visualization_projects=window.webpackJsonpdata_visualization_projects||[]).push([[0],{132:function(t,e,a){t.exports=a(150)},137:function(t,e,a){},138:function(t,e,a){},139:function(t,e,a){},140:function(t,e,a){},141:function(t,e,a){},142:function(t,e,a){},143:function(t,e,a){},144:function(t,e,a){},150:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(76),c=a.n(i),o=(a(137),a(138),a(78)),l=a(12),s=a(6),u=a(7),d=a(9),h=a(8),m=a(2),p=a(10),g=(a(139),a(1)),f=(a(140),function(t){return r.a.createElement("div",{className:"Error"},r.a.createElement("div",null,t.message))}),v=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(d.a)(this,Object(h.a)(e).call(this,t))).state={GDP:null,error:null},a.getData=a.getData.bind(Object(m.a)(a)),a.updateChart=a.updateChart.bind(Object(m.a)(a)),a.updateScales=a.updateScales.bind(Object(m.a)(a)),a.handleMouseOverBar=a.handleMouseOverBar.bind(Object(m.a)(a)),a.handleMouseOutBar=a.handleMouseOutBar.bind(Object(m.a)(a)),a.getData(),a}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.updateChart()}},{key:"getData",value:function(){var t=this;g.h("https://raw.githubusercontent.com/FreeCodeCamp/ProjectReferenceData/master/GDP-data.json").then((function(e){var a=e.data.map((function(t){return t[1]}));t.setState({linearScale:g.m().domain([0,g.i(a)+1e3]).range([0,t.props.height]),rawDates:e.data.map((function(t){return t[0]})),dates:e.data.map((function(t){return new Date(t[0])})),GDP:a,barWidth:t.props.width/a.length}),t.updateChart()})).catch((function(e){t.setState({error:e})}))}},{key:"updateChart",value:function(){var t=this;if(!this.state.error&&this.state.GDP){var e=this.state,a=e.dates,n=e.GDP,r=e.barWidth,i=e.rawDates,c=this.props,o=c.height,l=c.margin;this.updateScales();var s=n.map((function(e){return t.state.linearScale(e)}));g.r(this.viz).selectAll(".bar").data(s).transition().duration(this.props.animDuration).attr("x",(function(e,n){return t.state.xScale(a[n])+l})).attr("y",(function(t,e){return o-t})).attr("width",r).attr("height",(function(t){return t})).attr("data-date",(function(t,e){return i[e]})).attr("data-gdp",(function(t,e){return n[e]})),g.r(this.viz).select("#x-axis").call(g.a().scale(this.state.xScale)),g.r(this.viz).select("#y-axis").call(g.b(this.state.yScale))}}},{key:"updateScales",value:function(){var t=this.state,e=t.dates,a=t.GDP,n=this.props,r=n.width,i=n.height,c=new Date(g.i(e));c.setMonth(c.getMonth()+3);var o=g.o().domain([g.j(e),c]).range([0,r]),l=g.m().domain([0,g.i(a)+1e3]).range([i,0]);this.setState({xScale:o,yScale:l})}},{key:"handleMouseOverBar",value:function(t){var e=g.r("#tooltip"),a=g.r(t.target),n=parseFloat(a.attr("data-gdp")),r=a.attr("data-date"),i=this.viz.getBoundingClientRect(),c=i.x+t.target.x.baseVal.value,o=i.y+i.height-2*this.props.margin;e.transition().duration(200).style("opacity",1),e.html("".concat(r," <br> $ ").concat(n.toFixed(1).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")," Billion")).attr("data-date",r).style("left","".concat(c+10,"px")).style("top","".concat(o,"px"))}},{key:"handleMouseOutBar",value:function(t){g.r("#tooltip").transition().duration(200).style("opacity",0)}},{key:"render",value:function(){var t=this,e=this.state,a=e.error,n=e.GDP,i=e.barWidth,c=this.props,o=c.width,l=c.height,s=c.margin,u=n?n.map((function(e,a){return r.a.createElement("rect",{key:"bar".concat(a),className:"bar",onMouseOver:t.handleMouseOverBar,onMouseOut:t.handleMouseOutBar,y:l,x:s+a*i})})):[];return r.a.createElement("div",{className:"main bar-chart"},r.a.createElement("div",{className:"container"},a?r.a.createElement(f,{message:a.message}):r.a.createElement("div",{className:"graph"},r.a.createElement("div",{id:"title"},"United States GDP"),r.a.createElement("div",{id:"tooltip"}),r.a.createElement("svg",{ref:function(e){return t.viz=e},width:o+100,height:l+s},r.a.createElement("text",{transform:"rotate(-90)",x:-200,y:80},"Gross Domestic Product"),r.a.createElement("text",{x:o-s-20,y:l+50},r.a.createElement("a",{href:"http://www.bea.gov/national/pdf/nipaguid.pdf",target:"_blank",rel:"noopener noreferrer"},"More Information...")),r.a.createElement("g",{id:"x-axis",transform:"translate(".concat(s,", ").concat(l,")")}),r.a.createElement("g",{id:"y-axis",transform:"translate(".concat(s,", 0)")}),u))))}}]),e}(r.a.Component);v.defaultProps={animDuration:800,height:400,width:800,margin:60};var y=v,b=a(77);a(141);function O(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}var E=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(d.a)(this,Object(h.a)(e).call(this,t))).state={err:null,data:null,dotRadius:6,legendSide:18},a.getData=a.getData.bind(Object(m.a)(a)),a.updateChart=a.updateChart.bind(Object(m.a)(a)),a.updateScales=a.updateScales.bind(Object(m.a)(a)),a.updateLegend=a.updateLegend.bind(Object(m.a)(a)),a.handleMouseOutDot=a.handleMouseOutDot.bind(Object(m.a)(a)),a.handleMouseOverDot=a.handleMouseOverDot.bind(Object(m.a)(a)),a.getData(),a}return Object(p.a)(e,t),Object(u.a)(e,[{key:"getData",value:function(){var t=this;g.h("https://raw.githubusercontent.com/freeCodeCamp/ProjectReferenceData/master/cyclist-data.json").then((function(e){var a=e.map((function(t){var e=t.Time.split(":");return function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?O(a,!0).forEach((function(e){Object(b.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t,{Time:new Date(1970,0,1,0,e[0],e[1])})}));t.setState({data:a}),t.updateChart()})).catch((function(e){t.setState({err:e})}))}},{key:"updateChart",value:function(){if(!this.state.err&&this.state.data){this.updateScales();var t=this.state,e=t.data,a=t.xScale,n=t.yScale,r=t.color,i=t.dotRadius,c=this.props,o=c.margin,l=c.cor;g.r(this.viz).select("#x-axis").call(g.a(a).tickFormat(g.d("d"))),g.r(this.viz).select("#y-axis").call(g.b(n).tickFormat(g.t("%M:%S"))),g.r(this.viz).selectAll(".dot").data(e).transition().duration(this.props.animDuration).attr("cx",(function(t){return a(t.Year)+o})).attr("cy",(function(t){return n(t.Time)+l})).attr("r",i).attr("data-xvalue",(function(t){return t.Year})).attr("data-yvalue",(function(t){return t.Time.toISOString()})).attr("data-name",(function(t){return t.Name})).attr("data-doping",(function(t){return t.Doping})).attr("data-country",(function(t){return t.Nationality})).style("fill",(function(t){return r(""!==t.Doping)})),this.updateLegend()}}},{key:"updateScales",value:function(){var t=this.state.data,e=this.props,a=e.width,n=e.height,r=g.m().domain([g.j(t,(function(t){return t.Year-1})),g.i(t,(function(t){return t.Year+1}))]).range([0,a]),i=g.o().domain(g.c(t,(function(t){return t.Time}))).range([0,n]),c=g.n(g.p);this.setState({xScale:r,yScale:i,color:c})}},{key:"updateLegend",value:function(){var t=this.state.color,e=g.s(".legend").data(t.domain());e.select("rect").style("fill",t),e.select("text").text((function(t){return t?"Riders with doping allegations":"No doping allegations"}))}},{key:"componentDidMount",value:function(){this.updateChart()}},{key:"handleMouseOverDot",value:function(t){var e=g.r("#tooltip"),a=g.r(t.target),n=this.viz.getBoundingClientRect(),r=n.x+t.target.cx.baseVal.value,i=n.y+t.target.cy.baseVal.value,c=a.attr("data-name"),o=a.attr("data-doping"),l=a.attr("data-xvalue"),s=g.t("%M:%S")(new Date(a.attr("data-yvalue"))),u=a.attr("data-country");e.transition().duration(200).style("opacity",1),e.html("".concat(c,": ").concat(u," <br> Year: ").concat(l,", Time: ").concat(s," <br> <br> ").concat(o)).attr("data-year",l).style("left","".concat(r,"px")).style("top","".concat(i,"px"))}},{key:"handleMouseOutDot",value:function(t){g.r("#tooltip").transition().duration(200).style("opacity",0)}},{key:"render",value:function(){var t=this,e=this.state,a=e.err,n=e.data,i=e.dotRadius,c=e.legendSide,o=this.props,l=o.width,s=o.height,u=o.margin,d=o.cor,h=n?n.map((function(e,a){return r.a.createElement("circle",{key:"circle".concat(a),className:"dot",onMouseOver:t.handleMouseOverDot,onMouseOut:t.handleMouseOutDot,cy:s,cx:u,r:i})})):[],m=[0,1].map((function(t,e){return r.a.createElement("g",{className:"legend",key:"legend".concat(e),transform:"translate(0, ".concat(s/2-20*e," )")},r.a.createElement("text",{x:l+u-1.5*c,y:c/2,dy:".35em"}),r.a.createElement("rect",{x:l+u-c,width:c,height:c}))}));return r.a.createElement("div",{className:"main scatterplot"},r.a.createElement("div",{className:"container"},a?r.a.createElement(f,{message:a.message}):r.a.createElement("div",{className:"graph"},r.a.createElement("div",{id:"title"},"Doping in Professional Bicycle Racing"),r.a.createElement("div",{id:"tooltip"}),r.a.createElement("svg",{ref:function(e){return t.viz=e},width:l+2*u,height:s+u+d},r.a.createElement("g",{id:"x-axis",transform:"translate(".concat(u,", ").concat(s+d,")")}),r.a.createElement("g",{id:"y-axis",transform:"translate(".concat(u,", ").concat(d,")")}),r.a.createElement("g",{id:"legend"},m),h))))}}]),e}(r.a.Component);E.defaultProps={animDuration:800,height:420,width:800,margin:60,cor:20};var x=E,j=a(81),S=(a(142),function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(d.a)(this,Object(h.a)(e).call(this,t))).getData=a.getData.bind(Object(m.a)(a)),a.updateChart=a.updateChart.bind(Object(m.a)(a)),a.updateScales=a.updateScales.bind(Object(m.a)(a)),a.updateLegend=a.updateLegend.bind(Object(m.a)(a)),a.handleMouseOverCell=a.handleMouseOverCell.bind(Object(m.a)(a)),a.handleMouseOutCell=a.handleMouseOutCell.bind(Object(m.a)(a)),a.state={err:null,data:null,description:null},a.getData(),a}return Object(p.a)(e,t),Object(u.a)(e,[{key:"getData",value:function(){var t=this;g.h("https://raw.githubusercontent.com/freeCodeCamp/ProjectReferenceData/master/global-temperature.json").then((function(e){var a=e.monthlyVariance[0].year,n=e.monthlyVariance[e.monthlyVariance.length-1].year;t.setState({data:e.monthlyVariance,baseTemperature:e.baseTemperature,description:"".concat(a," - ").concat(n,": base temperature ").concat(e.baseTemperature+t.props.mes)}),t.updateChart()})).catch((function(e){t.setState({err:e})}))}},{key:"updateChart",value:function(){if(!this.state.err&&this.state.data){this.updateScales();var t=this.state,e=t.data,a=t.baseTemperature,n=t.xScale,r=t.yScale,i=t.colorScale;g.r(this.viz).select("#x-axis").call(g.a(n).tickValues(n.domain().filter((function(t){return t%10===0}))).tickSize(10,1)),g.r(this.viz).select("#y-axis").call(g.b(r).tickValues(r.domain()).tickFormat((function(t){var e=new Date(0);return e.setUTCMonth(t),g.t("%B")(e)})).tickSize(10,1)),g.r(this.viz).selectAll(".cell").data(e).transition().duration(this.props.animDuration).attr("x",(function(t){return n(t.year)})).attr("y",(function(t){return r(t.month-1)})).attr("width",n.bandwidth()).attr("height",(function(t){return r.bandwidth()})).attr("fill",(function(t){return i(a+t.variance)})).attr("data-month",(function(t){return t.month-1})).attr("data-year",(function(t){return t.year})).attr("data-temp",(function(t){return a+t.variance})),this.updateLegend()}}},{key:"updateScales",value:function(){var t=this.state,e=t.data,a=t.baseTemperature,n=this.props,r=n.width,i=n.height,c=n.legendColors,o=n.legendWidth,l=g.l().domain(e.map((function(t){return t.year}))).range([0,r]),s=g.l().domain(Object(j.a)(new Set(e.map((function(t){return t.month-1}))))).range([0,i]),u=a+g.j(e,(function(t){return t.variance})),d=a+g.i(e,(function(t){return t.variance})),h=(d-u)/(c.length-1),m=g.k(u,d,h);m.push(d);var p=g.m().domain(m).range(c).interpolate(g.g),f=g.m().domain([u,d]).range([0,o]);this.setState({xScale:l,yScale:s,colorScale:p,legendScale:f})}},{key:"updateLegend",value:function(){var t=this.state,e=t.colorScale,a=t.legendScale,n=this.props.legendColors;g.r(this.viz).select("#gradient").selectAll("stop").data(n).enter().append("stop").attr("offset",(function(t,e){return e/(n.length-1)})).attr("stop-color",(function(t){return t})),g.r(this.viz).select("#legend-axis").call(g.a(a).tickValues(e.domain()).tickFormat(g.d(".1f")))}},{key:"componentDidMount",value:function(){this.updateChart()}},{key:"handleMouseOverCell",value:function(t){var e=g.r("#tooltip"),a=g.r(t.target),n=this.viz.getBoundingClientRect(),r=n.x+t.target.x.baseVal.value+this.props.margin,i=n.y+t.target.y.baseVal.value-1.5*t.target.height.baseVal.value,c=a.attr("data-year"),o=g.t("%B")(new Date(c,a.attr("data-month"))),l=parseFloat(a.attr("data-temp")).toFixed(1);a.transition().duration(10).style("fill-opacity",.2),e.transition().duration(200).style("opacity",1),e.html("".concat(c," - ").concat(o," <br> ").concat(l," ").concat(this.props.mes)).attr("data-year",c).style("left","".concat(r,"px")).style("top","".concat(i,"px"))}},{key:"handleMouseOutCell",value:function(t){g.r(t.target).transition().duration(500).style("fill-opacity",1),g.r("#tooltip").transition().duration(200).style("opacity",0)}},{key:"render",value:function(){var t=this,e=this.state,a=e.err,n=e.data,i=e.description,c=this.props,o=c.width,l=c.height,s=c.margin,u=c.legendHeight,d=c.legendWidth,h=n?n.map((function(e,a){return r.a.createElement("rect",{className:"cell",key:"rect".concat(a),onMouseOver:t.handleMouseOverCell,onMouseOut:t.handleMouseOutCell})})):[];return r.a.createElement("div",{className:"main heatmap"},r.a.createElement("div",{className:"container"},a?r.a.createElement(f,{message:a.message}):r.a.createElement("div",{className:"graph"},r.a.createElement("div",{id:"title"},"Monthly Global Land-Surface Temperature"),r.a.createElement("div",{id:"description"},i),r.a.createElement("div",{id:"tooltip"}),r.a.createElement("svg",{id:"svg-graph",ref:function(e){return t.viz=e},width:o+s,height:l+s+s/2},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"gradient"})),r.a.createElement("g",{id:"x-axis",transform:"translate(".concat(s,", ").concat(l,")"),fill:"black"},r.a.createElement("text",{className:"label",transform:"translate(".concat(o/2,", ").concat(s/2,")")},"Years")),r.a.createElement("g",{id:"y-axis",transform:"translate(".concat(s,", 0)")},r.a.createElement("text",{className:"label",transform:"translate(".concat(-s/2,", ").concat((l-s)/2,") rotate(-90)")},"Months")),r.a.createElement("g",{id:"map",transform:"translate(".concat(s,", 0 )")},h),r.a.createElement("g",{id:"legend",transform:"translate(".concat(s+o/2-d/2,", ").concat(l+s,")")},r.a.createElement("text",{className:"label",transform:"translate(".concat(-40,", ").concat(-5,")")},"t ",this.props.mes),r.a.createElement("rect",{fill:"url(#".concat("gradient",")"),transform:"translate(0, ".concat(-u,")"),height:u,width:d}),r.a.createElement("g",{id:"legend-axis"}))))))}}]),e}(r.a.Component));S.defaultProps={animDuration:800,height:400,width:1200,legendWidth:300,legendHeight:20,margin:100,mes:"\u2103",legendColors:["#2c7bb6","#00a6ca","#00ccbc","#90eb9d","#ffff8c","#f9d057","#f29e2e","#e76818","#d7191c"]};var k=S,C=(a(143),a(26)),D=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(d.a)(this,Object(h.a)(e).call(this,t))).state={err:null,counties:null,edication:null},a.getData=a.getData.bind(Object(m.a)(a)),a.updateChart=a.updateChart.bind(Object(m.a)(a)),a.updateLegend=a.updateLegend.bind(Object(m.a)(a)),a.updateScales=a.updateScales.bind(Object(m.a)(a)),a.handleMouseOverCounty=a.handleMouseOverCounty.bind(Object(m.a)(a)),a.handleMouseOutCounty=a.handleMouseOutCounty.bind(Object(m.a)(a)),a.getData(),a}return Object(p.a)(e,t),Object(u.a)(e,[{key:"getData",value:function(){var t=this;Promise.all(["https://raw.githubusercontent.com/no-stack-dub-sack/testable-projects-fcc/master/src/data/choropleth_map/counties.json","https://raw.githubusercontent.com/no-stack-dub-sack/testable-projects-fcc/master/src/data/choropleth_map/for_user_education.json"].map((function(t){return g.h(t)}))).then((function(e){t.setState({education:e[1],counties:e[0]}),t.updateChart()})).catch((function(e){t.setState({err:e})}))}},{key:"updateChart",value:function(){if(!this.state.err&&this.state.counties&&this.state.education){this.updateScales();var t=this.state,e=t.counties,a=t.education,n=t.colorScale,r=g.e();g.r(this.viz).selectAll(".county").data(C.a(e,e.objects.counties).features).attr("d",r).attr("fill",(function(t){var e=a.filter((function(e){return e.fips===t.id}))[0];return n(e?e.bachelorsOrHigher:0)})).attr("data-fips",(function(t){return t.id})).attr("data-education",(function(t){var e=a.filter((function(e){return e.fips===t.id}))[0];return e?e.bachelorsOrHigher:0})),g.r(this.viz).select("#states").datum(C.b(e,e.objects.states,(function(t,e){return t!==e}))).attr("d",r),this.updateLegend()}}},{key:"updateScales",value:function(){var t=this.state.education,e=this.props,a=e.legendWidth,n=e.legendColors,r=g.j(t,(function(t){return t.bachelorsOrHigher})),i=g.i(t,(function(t){return t.bachelorsOrHigher})),c=(i-r)/(n.length-1),o=g.k(r,i,c);o.push(i);var l=r-c;o.unshift(l);var s=g.m().domain(o).range(n).interpolate(g.g),u=g.m().domain([l,i]).range([0,a]);this.setState({colorScale:s,legendScale:u})}},{key:"updateLegend",value:function(){var t=this.state,e=t.colorScale,a=t.legendScale,n=this.props.legendColors;g.r(this.viz).select("#gradient").selectAll("stop").data(n).enter().append("stop").attr("offset",(function(t,e){return e/(n.length-1)})).attr("stop-color",(function(t){return t})),g.r(this.viz).select("#legend-axis").call(g.a(a).tickValues(e.domain().filter((function(t,a){return 0!==a&&a!==e.domain().length-1}))).tickFormat((function(t){return g.d(".0f")(t)+"%"})))}},{key:"componentDidMount",value:function(){this.updateChart()}},{key:"handleMouseOverCounty",value:function(t){var e=this.state.education,a=g.r("#tooltip"),n=g.r(t.target),r=t.pageX,i=t.pageY;n.transition().duration(10).style("fill-opacity",.2),a.transition().duration(200).style("opacity",.9);var c=t.target.__data__.id,o=n.attr("data-education"),l=e.filter((function(t){return t.fips===c}))[0].state,s=e.filter((function(t){return t.fips===c}))[0].area_name;a.html("".concat(s,", ").concat(l,": ").concat(o,"%")).style("left","".concat(r,"px")).style("top","".concat(i,"px")).attr("data-education",o)}},{key:"handleMouseOutCounty",value:function(t){g.r(t.target).transition().duration(300).style("fill-opacity",1),g.r("#tooltip").transition().duration(200).style("opacity",0)}},{key:"render",value:function(){var t=this,e=this.state.err,a=this.props,n=a.width,i=a.height,c=a.margin,o=a.legendHeight,l=a.legendWidth,s=this.state.counties?this.state.counties.objects.counties.geometries.map((function(e,a){return r.a.createElement("path",{className:"county",key:"county".concat(a),onMouseOver:t.handleMouseOverCounty,onMouseOut:t.handleMouseOutCounty})})):[];return r.a.createElement("div",{className:"main choroplethmap"},r.a.createElement("div",{className:"container"},e?r.a.createElement(f,{message:e.message}):r.a.createElement("div",{className:"graph"},r.a.createElement("div",{id:"title"},"United States Educational Attainment"),r.a.createElement("div",{id:"description"},"Percentage of adults age 25 and older with a bachelor's degree or higher (2010-2014)"),r.a.createElement("div",{id:"tooltip"}),r.a.createElement("svg",{ref:function(e){return t.viz=e},width:n+c,height:i},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"gradient"})),r.a.createElement("g",{id:"legend",transform:"translate(".concat(2*n/3+c/2,", ").concat(2*o,")")},r.a.createElement("rect",{fill:"url(#".concat("gradient",")"),transform:"translate(0, ".concat(-o,")"),height:o,width:l}),r.a.createElement("g",{id:"legend-axis"})),r.a.createElement("g",{className:"counties",transform:"translate(".concat(c,", 0 )")},s),r.a.createElement("path",{id:"states",transform:"translate(".concat(c,", 0 )")})))))}}]),e}(r.a.Component);D.defaultProps={height:600,width:960,legendWidth:250,legendHeight:15,margin:100,legendColors:["#2c7bb6","#00a6ca","#00ccbc","#90eb9d","#ffff8c","#f9d057","#f29e2e","#e76818","#d7191c"]};var w=D,M=(a(144),function(t){t.each((function(){for(var t,e=g.r(this),a=e.text().split(/\s+/).reverse(),n=[],r=0,i=e.attr("x"),c=e.attr("y"),o=e.text(null).append("tspan").attr("x",i).attr("y",c).attr("dy","".concat(0,"em")),l=e._groups[0][0].parentNode.__data__.x1-e._groups[0][0].parentNode.__data__.x0-8;t=a.pop();)n.push(t),o.text(n.join(" ").trim()),o.node().getComputedTextLength()>l&&(n.pop(),o.text(n.join(" ")),n=[t],o=e.append("tspan").attr("x",i).attr("y",c).attr("dy","".concat(1.1*++r+0,"em")).text(t))}))}),N=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(d.a)(this,Object(h.a)(e).call(this,t))).state={err:null},a.getData=a.getData.bind(Object(m.a)(a)),a.createRoot=a.modifyData.bind(Object(m.a)(a)),a.updateChart=a.updateChart.bind(Object(m.a)(a)),a.updateScales=a.updateScales.bind(Object(m.a)(a)),a.updateLegend=a.updateLegend.bind(Object(m.a)(a)),a.handleMouseOverCell=a.handleMouseOverCell.bind(Object(m.a)(a)),a.handleMouseOutCell=a.handleMouseOutCell.bind(Object(m.a)(a)),a.getData(),a}return Object(p.a)(e,t),Object(u.a)(e,[{key:"getData",value:function(){var t=this;g.h("https://cdn.freecodecamp.org/testable-projects-fcc/data/tree_map/movie-data.json").then((function(e){t.setState({data:e}),t.modifyData(),t.updateChart()})).catch((function(e){t.setState({err:e})}))}},{key:"modifyData",value:function(){var t=this.state.data,e=g.f(t).sum((function(t){return t.value})).sort((function(t,e){return e.value-t.value})),a=e.leaves().map((function(t){return t.data.category})).filter((function(t,e,a){return a.indexOf(t)===e}));this.setState({root:e,categories:a})}},{key:"updateChart",value:function(){if(!this.state.err&&this.state.data&&this.state.root){this.updateScales();var t=this.state,e=t.colorScale,a=t.root,n=this.props,r=n.width,i=n.height;g.u().tile(g.v).size([r,i]).paddingInner(1)(a),g.r(this.viz).selectAll(".cell").data(a.leaves()).transition().duration(this.props.animDuration).attr("transform",(function(t){return"translate(".concat(t.x0,", ").concat(t.y0,")")})),g.r(this.viz).selectAll(".tile").data(a.leaves()).attr("width",(function(t){return t.x1-t.x0})).attr("height",(function(t){return t.y1-t.y0})).attr("data-name",(function(t){return t.data.name})).attr("data-category",(function(t){return t.data.category})).attr("data-value",(function(t){return t.data.value})).attr("fill",(function(t){return e(t.data.category)})),g.r(this.viz).selectAll(".tile-text").data(a.leaves()).attr("x",4).attr("y",15).text((function(t){return t.data.name})).call(M),this.updateLegend()}}},{key:"updateScales",value:function(){var t=g.n(g.q);this.setState({colorScale:t})}},{key:"updateLegend",value:function(){var t=this.state,e=t.categories,a=t.colorScale,n=this.props.legendRectSize;g.r("#legend").selectAll(".legend-item").data(e).attr("fill",(function(t){return a(t)})).attr("width",n).attr("height",n),g.r("#legend").selectAll(".legend-text").data(e).transition().duration(this.props.animDuration).attr("x",1.5*n).attr("y",2*n/3).text((function(t){return t}))}},{key:"componentDidMount",value:function(){this.updateChart()}},{key:"handleMouseOverCell",value:function(t){var e=g.r("#tooltip"),a=g.r(t.target),n=t.pageX,r=t.pageY,i=a.attr("data-name"),c=a.attr("data-category"),o=a.attr("data-value"),l=o.replace(/(?=\B(?:\d{3})+(?!\d))/g," ");a.transition().duration(10).style("fill-opacity",.2),e.transition().duration(200).style("opacity",.95),e.html("<mark>Name:</mark> <b>".concat(i,"</b> <br>\n            <mark>Category:</mark> <b>").concat(c,"</b> <br>\n            <mark>Value:</mark> <b>$ ").concat(l,"</b>")).style("left","".concat(n,"px")).style("top","".concat(r,"px")).attr("data-value",o)}},{key:"handleMouseOutCell",value:function(t){g.r(t.target).transition().duration(500).style("fill-opacity",1),g.r("#tooltip").transition().duration(200).style("opacity",0)}},{key:"render",value:function(){var t=this,e=this.props,a=e.width,n=e.height,i=e.legendWidth,c=e.legendHeight,o=e.margin,l=e.legendRectSize,s=e.legendLabelWidth,u=e.legendLabelHeight,d=this.state,h=d.err,m=d.root,p=d.categories,g=m?m.leaves().map((function(e,a){return r.a.createElement("g",{className:"cell",key:"cell".concat(a),x:0,y:0},r.a.createElement("rect",{className:"tile",onMouseOver:t.handleMouseOverCell,onMouseOut:t.handleMouseOutCell}),r.a.createElement("text",{className:"tile-text"}))})):[],v=p?p.map((function(t,e){return r.a.createElement("g",{key:"legendItem".concat(e),transform:"translate(\n                        ".concat(e%3*s,", \n                        ").concat(Math.floor(e/3)*l+u*Math.floor(e/3),")")},r.a.createElement("rect",{className:"legend-item"}),r.a.createElement("text",{className:"legend-text"}))})):[];return r.a.createElement("div",{className:"main treemap"},r.a.createElement("div",{className:"container"},h?r.a.createElement(f,{message:h.message}):r.a.createElement("div",{className:"graph"},r.a.createElement("div",{id:"title"},"Movie Sales"),r.a.createElement("div",{id:"description"},"Top 100 Highest Grossing Movies Grouped By Genre"),r.a.createElement("svg",{transform:"translate(".concat(o,", 0)"),ref:function(e){return t.viz=e},width:a,height:n},g),r.a.createElement("svg",{transform:"translate(".concat(o,", 0)"),width:i,height:c},r.a.createElement("g",{id:"legend",transform:"translate(".concat((i-3*s)/2+o,", ").concat(o,")")},v)),r.a.createElement("div",{id:"tooltip"}))))}}]),e}(r.a.Component);N.defaultProps={animDuration:800,height:850,width:940,legendWidth:940,legendHeight:200,legendRectSize:20,legendLabelWidth:150,legendLabelHeight:30,margin:30};var z=N;var P=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/bar-chart",component:y}),r.a.createElement(l.a,{path:"/scatterplot-graph",component:x}),r.a.createElement(l.a,{path:"/heat-map",component:k}),r.a.createElement(l.a,{path:"/choropleth-map",component:w}),r.a.createElement(l.a,{path:"/tree-map",component:z}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[132,1,2]]]);
//# sourceMappingURL=main.b37beae7.chunk.js.map